@using Web.Hellper
@{
    HttpCookie cookie = Request.Cookies.Get("MaTaiKhoan");
    var ma = int.Parse(cookie.Value);
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title | Admin Web</title>
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="/Areas/Admin/Content/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/Areas/Admin/Content/plugins/font-awesome-4.7.0/css/font-awesome.min.css" />
    <!-- Ionicons -->
    <link rel="stylesheet" href="/Areas/Admin/Content/plugins/ionicons-2.0.1/css/ionicons.min.css" />
    <!-- Theme style -->
    <link rel="stylesheet" href="/Areas/Admin/Content/dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="/Areas/Admin/Content/dist/css/skins/_all-skins.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="/Areas/Admin/Content/plugins/iCheck/flat/blue.css">
    <!-- Morris chart -->
    <link rel="stylesheet" href="/Areas/Admin/Content/plugins/morris/morris.css">
    <!-- jvectormap -->
    <link rel="stylesheet" href="/Areas/Admin/Content/plugins/jvectormap/jquery-jvectormap-1.2.2.css">
    <!-- Date Picker -->
    <link href="~/Content/build/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/Areas/Admin/Content/customer.css" />
    <!-- DataTables -->
    <link rel="stylesheet" href="/Areas/Admin/Content/plugins/datatables/dataTables.bootstrap.css">
    <link href="~/Areas/Admin/Content/plugins/datatables/buttons.dataTables.min.css" rel="stylesheet" />
</head>
<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
        <header class="main-header">
            <!-- Logo -->
            <a href="/Admin/Home" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><b>Ad</b></span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><b>Admin</b> Web</span>
            </a>
            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top" role="navigation">
                <!-- Sidebar toggle button-->
                <a href="javascript:;" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <!-- User Account: style can be found in dropdown.less -->
                        <li class="dropdown user user-menu">
                            <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="/Areas/Admin/Content/dist/img/avatar5.png" class="user-image" alt="User Image">
                                <span class="hidden-xs">@Server.UrlDecode(Request.Cookies["HoTenTaiKhoan"].Value)</span>
                            </a>
                            <ul class="dropdown-menu">
                                <!-- User image -->
                                <li class="user-header">
                                    <img src="/Areas/Admin/Content/dist/img/avatar5.png" class="img-circle" alt="User Image">
                                    <p>
                                        @Server.UrlDecode(Request.Cookies["HoTenTaiKhoan"].Value)
                                    </p>
                                </li>
                                <!-- Menu Footer-->
                                <li class="user-footer">
                                    <div class="pull-right">
                                        <a href="@Url.Action("Logout", "Account")" class="btn btn-default btn-flat">Thoát</a>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- Left side column. contains the logo and sidebar -->
        <aside class="main-sidebar">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
                <!-- Sidebar user panel -->
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="/Areas/Admin/Content/dist/img/avatar5.png" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info">
                        <p>@Server.UrlDecode(Request.Cookies["HoTenTaiKhoan"].Value)</p>
                        <a href="javascript:;"><i class="fa fa-circle text-success"></i>Online</a>
                    </div>
                </div>
                <!-- sidebar menu: : style can be found in sidebar.less -->
                <ul class="sidebar-menu">
                    <li class="header">QUẢN TRỊ</li>
                    <li class="@ViewBag.Home">
                        <a href="@Url.Action("Index", "Home")"><i class="fa fa-circle-o"></i>Quản trị</a>
                    </li>
                    @if (StringHellper.CheckPer("Quyền", ma))
                    {
                        <li class="@ViewBag.Permission">
                            <a href="@Url.Action("Index", "Permission")"><i class="fa fa-circle-o"></i>Quyền</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Tài khoản", ma))
                    {
                        <li class="@ViewBag.User">
                            <a href="@Url.Action("Index", "User")"><i class="fa fa-circle-o"></i>Tài khoản</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Khách hàng", ma))
                    {
                        <li class="@ViewBag.Customer">
                            <a href="@Url.Action("Index", "Customer")"><i class="fa fa-circle-o"></i>Khách hàng</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Tin tức", ma))
                    {
                        <li class="@ViewBag.News">
                            <a href="@Url.Action("Index", "News")"><i class="fa fa-circle-o"></i>Tin tức</a>
                        </li>
                    }
                    <li class="header">DANH MỤC</li>
                    @if (StringHellper.CheckPer("Khách sạn", ma))
                    {
                        <li class="@ViewBag.Hotel">
                            <a href="@Url.Action("Index", "Hotel")"><i class="fa fa-circle-o"></i>Khách sạn</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Loại phòng", ma))
                    {
                        <li class="@ViewBag.RoomType">
                            <a href="@Url.Action("Index", "RoomType")"><i class="fa fa-circle-o"></i>Loại phòng</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Phòng", ma))
                    {
                        <li class="@ViewBag.Room">
                            <a href="@Url.Action("Index", "Room")"><i class="fa fa-circle-o"></i>Phòng</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Dịch vụ", ma))
                    {
                        <li class="@ViewBag.Service">
                            <a href="@Url.Action("Index", "Service")"><i class="fa fa-circle-o"></i>Dịch vụ</a>
                        </li>
                    }
                    <li class="header">NGHIỆP VỤ</li>
                    @if (StringHellper.CheckPer("Đơn đặt phòng", ma))
                    {
                        <li class="@ViewBag.Order">
                            <a href="@Url.Action("Index", "Order")"><i class="fa fa-circle-o"></i>Đơn đặt phòng</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Book phòng", ma))
                    {
                        <li class="@ViewBag.Booking">
                            <a href="@Url.Action("Index", "Booking")"><i class="fa fa-circle-o"></i>Book phòng</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Hóa đơn", ma))
                    {
                        <li class="@ViewBag.Bill">
                            <a href="@Url.Action("Index", "Bill")"><i class="fa fa-circle-o"></i>Hóa đơn</a>
                        </li>
                    }
                    <li class="header">BÁO CÁO - THỐNG KÊ</li>
                    }
                    @if (StringHellper.CheckPer("Báo cáo", ma))
                    {
                        <li class="@ViewBag.Report">
                            <a href="@Url.Action("Index", "Report")"><i class="fa fa-circle-o"></i>Báo cáo</a>
                        </li>
                    }
                    @if (StringHellper.CheckPer("Thống kê", ma))
                    {
                        <li class="@ViewBag.Statistic">
                            <a href="@Url.Action("Index", "Statistic")"><i class="fa fa-circle-o"></i>Thống kê</a>
                        </li>
                    }
                </ul>
            </section>
            <!-- /.sidebar -->
        </aside>
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
                    @ViewBag.Controller
                    <small>@ViewBag.Title</small>
                </h1>
                <ol class="breadcrumb">
                    <li><a href="@Url.Action("Index", "Home")"><i class="fa fa-dashboard"></i>Quản trị</a></li>
                    <li class="active">@ViewBag.Controller</li>
                </ol>
            </section>
            @if (TempData["notice"] != null)
            {
                <p style="font-size: 20px; padding: 0px 15px; color: white; display: block; background-color: chocolate;">@TempData["notice"]</p>
            }
            <!-- Main content -->
            <section class="content">
                @RenderBody()
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->
        <footer class="main-footer">
            <div class="pull-right hidden-xs">
                <b>Version</b> 1.0
            </div>
            <strong>Copyright &copy; @DateTime.Now.Year <a href="javascript:;">Web</a>.</strong> By Lê Thị Giàu EM + Trần Hữu Nghĩa
        </footer>
        <div class="control-sidebar-bg"></div>
    </div>
    <div style="display: none">
        <div id="view-null"></div>
    </div>

    <!-- jQuery -->
    <script src="~/Scripts/jquery-3.1.0.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="~/Scripts/bootstrap.min.js"></script>
    <!-- Custom Theme JavaScript -->
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/ClientScripts/mvcfoolproof.unobtrusive.min.js"></script>
    <!-- Sparkline -->
    <script src="/Areas/Admin/Content/plugins/sparkline/jquery.sparkline.min.js"></script>
    <!-- jvectormap -->
    <script src="/Areas/Admin/Content/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="/Areas/Admin/Content/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="/Areas/Admin/Content/plugins/knob/jquery.knob.js"></script>
    <script src="~/Scripts/moment-with-locales.min.js"></script>
    <script src="~/Content/build/js/bootstrap-datetimepicker.min.js"></script>
    <!-- FastClick -->
    <script src="/Areas/Admin/Content/plugins/fastclick/fastclick.min.js"></script>
    <!-- DataTables -->
    <script src="/Areas/Admin/Content/plugins/datatables/jquery.dataTables.js"></script>
    <script src="/Areas/Admin/Content/plugins/datatables/dataTables.bootstrap.min.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/dataTables.buttons.min.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/buttons.flash.min.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/jszip.min.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/pdfmake.min.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/vfs_fonts.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/buttons.html5.min.js"></script>
    <script src="~/Areas/Admin/Content/plugins/datatables/buttons.print.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/Areas/Admin/Content/dist/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="/Areas/Admin/Content/dist/js/demo.js"></script>
    <script src="/Areas/Admin/Content/ckeditor/ckeditor.js"></script>
    <script src="/Areas/Admin/Content/ckfinder/ckfinder.js"></script>
    <script>
        $(function () {
            try {
                $('.datetimepicker').datetimepicker({
                    format: 'MM-DD-YYYY'
                });
            }
            catch (err) { }

            $("#example1").DataTable({
                "aaSorting": [],
                dom: 'Bfrtip',
                buttons: [
                    'excel', 'pdf', 'print'
                ]
            });
            $("#example2").DataTable({
                "aaSorting": [],
                dom: 'Bfrtip',
                buttons: [
                    'excel', 'pdf', 'print'
                ]
            });

            $("#btnImg").click(function () {
                var finder = new CKFinder();
                finder.selectActionFunction = function (fileUrl) {
                    $('#imgAnh').attr("src", fileUrl);
                    $('#HinhAnh').attr("value", fileUrl);
                };
                finder.popup();
            });

            try {
                CKEDITOR.replace("NoiDung");
            }
            catch (err) { }
        });

        function addService(id) {
            $('#MaDichVu').val(id);
            $('#themDichVu').modal();
        }

        function editService(id, soluong) {
            $('#MaSuDungDichVu').val(id);
            $('#SoLuong').val(soluong);
            $('#suaDichVu').modal();
        }

        function addCustomer() {
            $('#themKhach').modal();
        }

        function printDiv(divID) {
            var divElements = document.getElementById(divID).innerHTML;
            var oldPage = document.body.innerHTML;
            document.body.innerHTML =
                "<html><head><title></title></head><body>" +
                divElements + "</body>";
            window.print();
            document.body.innerHTML = oldPage;
        }
    </script>
</body>
</html>
